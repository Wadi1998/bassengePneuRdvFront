<!-- App Shell -->
<div class="min-h-screen flex bg-brand-dark text-slate-100">
  <!-- SIDEBAR -->
  <aside class="hidden md:flex md:flex-col md:w-72
                bg-gradient-to-b from-brand-mid to-brand-dark border-r border-white/10">
    <!-- Logo -->
    <div class="h-16 flex items-center px-5 border-b border-white/10">
      <div class="flex items-center gap-3">
        <span class="text-xl font-extrabold tracking-tight uppercase">Bassenge Pneu</span>
      </div>
    </div>

    <!-- Nav -->
    <nav class="flex-1 px-3 py-4 space-y-1">
      <a routerLink="/dashboard" routerLinkActive="nav-link-active" class="nav-link">
        <svg class="h-5 w-5 opacity-80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
          <path d="M3 12l9-9 9 9" /><path d="M9 21V9h6v12" />
        </svg>
        <span>Accueil</span>
      </a>

      <a routerLink="/prise-rendez-vous" routerLinkActive="nav-link-active" class="nav-link">
        <svg class="h-5 w-5 opacity-80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
          <rect x="3" y="5" width="18" height="16" rx="2" />
          <path d="M16 3v4M8 3v4M3 11h18" />
        </svg>
        <span>Prise-rendez-vous</span>
      </a>

      <a routerLink="/clients" routerLinkActive="nav-link-active" class="nav-link">
        <svg class="h-5 w-5 opacity-80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
          <path d="M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
          <circle cx="8" cy="7" r="4" />
          <path d="M20 8v6m3-3h-6" />
        </svg>
        <span>Clients</span>
      </a>
    </nav>


    <div class="px-4 py-3 border-t border-white/10 text-xs text-slate-400">
      © {{ today | date:'yyyy' }} • Wadie Mokhtari
    </div>
  </aside>

  <!-- MAIN -->
  <div class="flex-1 flex min-w-0">
    <div class="flex-1 flex flex-col min-w-0">
      <!-- TOPBAR -->
      <header class="h-16 bg-brand-mid/60 backdrop-blur border-b border-white/10
                     flex items-center px-4 md:px-6 gap-3">
        <button class="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-xl border border-white/10"
                (click)="open = !open" aria-label="Menu">
          <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

        <div class="font-semibold">Garage Pneu</div>

        <div class="ml-auto hidden sm:flex items-center gap-3 text-sm text-slate-300">
          <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M3 12a9 9 0 1 0 18 0 9 9 0 0 0-18 0Z" />
            <path d="M12 7v5l3 3" />
          </svg>
          <span>{{ today | date }}</span>
        </div>
      </header>

      <!-- CONTENU -->
      <main class="flex-1 p-4 md:p-6">
        <router-outlet />
      </main>
    </div>
  </div>

  <!-- Drawer mobile -->
  <div class="md:hidden fixed inset-0 z-40" *ngIf="open">
    <div class="absolute inset-0 bg-black/50" (click)="open=false"></div>
    <div class="absolute inset-y-0 left-0 w-72 bg-brand-mid text-slate-100 p-4">
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-2">
          <img src="assets/logo-bassengepneu.png" class="h-8 w-auto" alt="">
          <div class="font-semibold">BassengePneu</div>
        </div>
        <button (click)="open=false" class="h-9 w-9 rounded-lg bg-white/10 flex items-center justify-center">
          <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M6 6l12 12M6 18L18 6" />
          </svg>
        </button>
      </div>
      <nav class="space-y-1">
        <a routerLink="/dashboard" routerLinkActive="nav-link-active" (click)="open=false" class="nav-link">Accueil</a>
        <a routerLink="/prise-rendez-vous" routerLinkActive="nav-link-active" (click)="open=false" class="nav-link">prise-rendez-vous</a>
        <a routerLink="/clients" routerLinkActive="nav-link-active" (click)="open=false" class="nav-link">Clients</a>
      </nav>

      <div class="mt-4">
        <a href="tel:+32484619867" class="btn-cta w-full justify-center">
          <span>📞</span><span>+32 484 61 98 67</span>
        </a>
      </div>
    </div>
  </div>
</div>
