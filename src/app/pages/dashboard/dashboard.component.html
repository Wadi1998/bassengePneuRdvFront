<section class="max-w-7xl mx-auto px-4 py-8 text-slate-100">
  <!-- Titre + badge date -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-3xl font-extrabold tracking-tight">{{ i18n.t('dashboard.title') }}</h2>
    <span class="inline-flex items-center gap-2 text-sm px-4 py-2 rounded-full bg-white/5 border border-white/10">
      <svg class="h-4 w-4 text-sky-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
        <line x1="16" y1="2" x2="16" y2="6"/>
        <line x1="8" y1="2" x2="8" y2="6"/>
        <line x1="3" y1="10" x2="21" y2="10"/>
      </svg>
      <span class="font-semibold capitalize">{{ dateObj | date:'EEEE' }}</span>
      <span class="text-slate-400">•</span>
      <span>{{ dateObj | date:'d MMMM yyyy' }}</span>
    </span>
  </div>

  <!-- Toolbar simplifié -->
  <div class="rounded-2xl bg-white/[0.04] border border-white/10 p-4 md:p-5 mb-6">
    <div class="flex flex-wrap items-center gap-3">
      <!-- Navigation jours -->
      <button class="h-11 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition" (click)="prevDay()">
        ‹ {{ i18n.t('appointments.prevDay') }}
      </button>

      <button class="h-11 px-4 rounded-xl bg-sky-500/20 border border-sky-500/30 text-sky-300 hover:bg-sky-500/30 transition" (click)="goToday()">
        {{ i18n.t('appointments.today') }}
      </button>

      <!-- Date picker -->
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 opacity-70">
          <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2"/><path d="M16 2v4M8 2v4M3 10h18"/>
          </svg>
        </span>
        <input type="date" class="h-11 w-48 pl-9 pr-3 rounded-xl bg-white/5 border border-white/10 focus:outline-none focus:ring-2 focus:ring-white/20"
               [ngModel]="date" (ngModelChange)="setDate($event)" />
      </div>

      <button class="h-11 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition" (click)="nextDay()">
        {{ i18n.t('appointments.nextDay') }} ›
      </button>

      <!-- Compteur de rendez-vous -->
      <div class="flex items-center gap-2 text-sm px-4 py-2 rounded-xl"
           [ngClass]="items.length > 0 ? 'bg-rose-500/10 text-rose-300 border border-rose-500/30' : 'bg-slate-700/30 text-slate-400'">
        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2"/>
          <path d="M16 2v4M8 2v4M3 10h18"/>
        </svg>
        {{ items.length > 0 ? i18n.t('dashboard.appointmentCount', { count: items.length }) : i18n.t('dashboard.noAppointments') }}
      </div>

      <!-- Lien vers création de RDV -->
      <a routerLink="/gestion-rendez-vous" class="ml-auto h-11 px-4 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 hover:bg-emerald-500/30 transition flex items-center gap-2">
        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14m-7-7h14"/>
        </svg>
        {{ i18n.t('dashboard.addAppointment') }}
      </a>
    </div>
  </div>

  <!-- Deux colonnes A & B -->
  <div class="grid md:grid-cols-2 gap-5">
    <!-- Pont A -->
    <div class="rounded-2xl bg-white/[0.04] border border-white/10 p-4">
      <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-semibold">{{ i18n.t('dashboard.slotsA') }}</h3>
        <span class="text-xs text-slate-300">{{ i18n.t('dashboard.viewOnly') }}</span>
      </div>
      <ng-container *ngIf="showSlots">
        <app-slot-picker
          [date]="date"
          [duration]="duration"
          [bay]="'A'"
          [items]="items"
          [serviceType]="''"
          [canBook]="false"
          [needService]="false"
          [needClient]="false"
          [isLoading]="isLoading"
          [readOnly]="true"
        ></app-slot-picker>
      </ng-container>
    </div>

    <!-- Pont B -->
    <div class="rounded-2xl bg-white/[0.04] border border-white/10 p-4">
      <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-semibold">{{ i18n.t('dashboard.slotsB') }}</h3>
        <span class="text-xs text-slate-300">{{ i18n.t('dashboard.viewOnly') }}</span>
      </div>
      <ng-container *ngIf="showSlots">
        <app-slot-picker
          [date]="date"
          [duration]="duration"
          [bay]="'B'"
          [items]="items"
          [serviceType]="''"
          [canBook]="false"
          [needService]="false"
          [needClient]="false"
          [isLoading]="isLoading"
          [readOnly]="true"
        ></app-slot-picker>
      </ng-container>
    </div>
  </div>
</section>
