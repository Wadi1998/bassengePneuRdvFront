<section class="max-w-7xl mx-auto px-4 py-8 text-slate-100">
  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h2 class="text-3xl font-extrabold tracking-tight">{{ i18n.t('clients.title') }}</h2>
      <p class="text-sm text-slate-300 mt-1">
        {{ i18n.t('clients.description') }}
      </p>
    </div>
    <span class="badge-count">
      {{ i18n.t('clients.clientCount', { count: totalClient }) }}
    </span>
  </div>

  <!-- Formulaire + recherche -->
  <div class="card-dark p-6 md:p-7 mb-8">
    <!-- Formulaire -->
    <form
      [formGroup]="form"
      (ngSubmit)="add()"
      class="grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-x-6 md:gap-y-4 xl:gap-x-8 items-start"
    >

      <!-- Prénom -->
      <div class="md:col-span-4">
        <div class="field">
          <span class="field-icon text-sky-400" aria-hidden="true">
            <!-- user icon -->
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4 20c0-3.3137 2.6863-6 6-6h4c3.3137 0 6 2.6863 6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <input #firstNameInput formControlName="firstName" placeholder="{{ i18n.t('clients.firstnamePlaceholder') }}" class="field-input" />
        </div>
        <div class="text-xs text-red-400 mt-1" *ngIf="form.get('firstName')?.touched && form.get('firstName')?.invalid">
          {{ i18n.t('clients.firstNameRequired') }}
        </div>
      </div>

      <!-- Nom -->
      <div class="md:col-span-4">
        <div class="field">
          <span class="field-icon text-indigo-400" aria-hidden="true">
            <!-- id icon -->
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="1.5"/>
              <path d="M8 11h8M8 15h5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="8" r="1" fill="currentColor"/>
            </svg>
          </span>
          <input formControlName="name" placeholder="{{ i18n.t('clients.namePlaceholder') }}" class="field-input" />
        </div>
        <div class="text-xs text-red-400 mt-1" *ngIf="form.get('name')?.touched && form.get('name')?.invalid">
          {{ i18n.t('clients.nameRequired') }}
        </div>
      </div>

      <!-- Téléphone -->
      <div class="md:col-span-4">
        <div class="field">
          <span class="field-icon text-emerald-400" aria-hidden="true">
            <!-- phone icon -->
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.86 19.86 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.12 1.05.37 2.07.73 3.03a2 2 0 0 1-.45 2.11L8.09 10.91a14.1 14.1 0 0 0 6 6l1.05-1.05a2 2 0 0 1 2.11-.45c.96.36 1.98.61 3.03.73A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <input formControlName="phone" inputmode="tel" placeholder="{{ i18n.t('clients.phonePlaceholder') }}" class="field-input" />
        </div>
        <div class="text-xs text-red-400 mt-1" *ngIf="form.get('phone')?.touched && form.get('phone')?.invalid">
          {{ i18n.t('clients.phoneInvalid') }}
        </div>
      </div>

      <!-- Séparateur pour véhicule optionnel -->
      <div class="md:col-span-12">
        <p class="text-sm text-slate-400 border-t border-white/10 pt-4 mt-2">{{ i18n.t('clients.optionalVehicle') }}</p>
      </div>

      <!-- Marque -->
      <div class="md:col-span-3">
        <div class="field">
          <span class="field-icon text-amber-400" aria-hidden="true">
            <!-- car icon -->
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 13l1.5-4.5A2 2 0 0 1 6.4 7h11.2a2 2 0 0 1 1.9 1.5L21 13" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M5 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM19 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <input formControlName="carBrand" placeholder="{{ i18n.t('clients.brandPlaceholder') }}" class="field-input" />
        </div>
      </div>

      <!-- Modèle -->
      <div class="md:col-span-3">
        <div class="field">
          <span class="field-icon text-orange-400" aria-hidden="true">
            <!-- model icon -->
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="8" width="20" height="10" rx="2" stroke="currentColor" stroke-width="1.3"/>
              <circle cx="7" cy="18" r="2" stroke="currentColor" stroke-width="1.3"/>
              <circle cx="17" cy="18" r="2" stroke="currentColor" stroke-width="1.3"/>
            </svg>
          </span>
          <input formControlName="carModel" placeholder="{{ i18n.t('clients.modelPlaceholder') }}" class="field-input" />
        </div>
      </div>

      <!-- Année -->
      <div class="md:col-span-3">
        <div class="field">
          <span class="field-icon text-cyan-400" aria-hidden="true">
            <!-- calendar icon -->
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.3"/>
              <path d="M16 2v4M8 2v4M3 10h18" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
            </svg>
          </span>
          <input formControlName="carYear" type="number" placeholder="{{ i18n.t('clients.yearPlaceholder') }}" class="field-input" />
        </div>
      </div>

      <!-- Plaque -->
      <div class="md:col-span-3">
        <div class="field">
          <span class="field-icon text-violet-400" aria-hidden="true">
            <!-- plate / tag icon -->
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="2" y="6" width="20" height="12" rx="2" stroke="currentColor" stroke-width="1.3"/>
              <path d="M7 12h10" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
            </svg>
          </span>
          <input formControlName="carPlate" placeholder="{{ i18n.t('clients.platePlaceholder') }}" class="field-input" />
        </div>
      </div>

      <!-- Bouton Ajouter -->
      <div class="md:col-span-12 flex justify-start mt-4">
        <button
          type="submit"
          class="btn-cta h-11 w-full md:w-auto justify-center min-w-[150px]"
        >
          <span>{{ i18n.t('actions.addClientIcon') }}</span><span>{{ i18n.t('clients.addButton') }}</span>
        </button>
      </div>
    </form>
  </div>

  <!-- Barre de recherche -->
  <div class="field mt-8 mb-8">
    <span class="field-icon text-slate-400" aria-hidden="true">
      <!-- search icon -->
      <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.3"/>
        <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
      </svg>
    </span>
    <input
      [formControl]="search"
      placeholder="{{ i18n.t('clients.searchPlaceholder') }}"
      class="field-input-ghost"
    />
  </div>

  <!-- Liste des clients -->
  <div *ngIf="filtered.length; else empty" class="bg-white/5 border border-white/10 rounded-2xl divide-y divide-white/10">
    <div *ngFor="let c of filtered; trackBy: trackById"
         class="px-4 md:px-5 py-4 hover:bg-white/[.04] transition">
      <!-- Ligne principale : infos client + boutons -->
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3 min-w-0">
          <div class="h-10 w-10 rounded-full bg-brand-red flex items-center justify-center font-bold text-white shrink-0">
            {{ initials(c) | uppercase }}
          </div>
          <div class="min-w-0">
            <div class="font-semibold truncate">{{ c.firstName }} {{ c.name }}</div>
            <div class="text-sm text-slate-300 truncate">
              <a class="hover:underline" [href]="'tel:' + c.phone">{{ phoneDisplay(c.phone) }}</a>
            </div>
          </div>
        </div>
        <div class="flex items-center gap-2 shrink-0">
          <button class="btn-warning-outline" (click)="openEditPopup(c)">
            <!-- pencil icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M3 21v-3.75L14.81 5.44a2.4 2.4 0 0 1 3.39 0l.36.36a2.4 2.4 0 0 1 0 3.39L6.75 21H3z" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            {{ i18n.t('clients.editButton') }}
          </button>
          <button class="btn-danger-outline" (click)="remove(c.id)">
            <!-- trash icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M3 6h18" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
              <path d="M8 6v12a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
            </svg>
            {{ i18n.t('clients.removeButton') }}
          </button>
        </div>
      </div>

      <!-- Section voitures du client -->
      <div *ngIf="c.cars && c.cars.length > 0" class="mt-3 ml-13 pl-10">
        <div class="flex flex-wrap gap-2">
          <div *ngFor="let car of c.cars"
               class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/30 text-amber-300 text-xs">
            <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 13l1.5-4.5A2 2 0 0 1 6.4 7h11.2a2 2 0 0 1 1.9 1.5L21 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <rect x="3" y="13" width="18" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="6.5" cy="19" r="1.5" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="17.5" cy="19" r="1.5" stroke="currentColor" stroke-width="1.5"/>
            </svg>
            <span class="font-medium">{{ car.brand }} {{ car.model }}</span>
            <span *ngIf="car.year" class="text-amber-400/70">({{ car.year }})</span>
            <span *ngIf="car.licensePlate" class="text-violet-300 font-mono text-[10px] ml-1 px-1.5 py-0.5 bg-violet-500/20 rounded">{{ car.licensePlate }}</span>
          </div>
        </div>
      </div>

      <!-- Message si pas de voiture -->
      <div *ngIf="!c.cars || c.cars.length === 0" class="mt-2 ml-13 pl-10">
        <span class="text-xs text-slate-500 italic">{{ i18n.t('clients.noCars') }}</span>
      </div>
    </div>
  </div>

  <!-- Popup de modification client -->
  <div *ngIf="isEditPopupOpen" class="fixed inset-0 z-50 flex items-center justify-center">
    <!-- Overlay cliquable -->
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm" (click)="closeEditPopup()" aria-hidden="true"></div>

    <!-- Dialog -->
    <div role="dialog" aria-modal="true" tabindex="-1" class="relative w-full max-w-3xl mx-4 max-h-[90vh] overflow-y-auto">
      <div class="card-dark p-6 rounded-2xl shadow-lg">
        <div class="flex items-start justify-between gap-4 mb-4">
          <h3 class="text-lg font-semibold">{{ i18n.t('clients.editButton') }}</h3>
          <button type="button" (click)="closeEditPopup()" class="btn-secondary" [attr.aria-label]="i18n.t('common.close')">
            <!-- close icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <form [formGroup]="editForm" (ngSubmit)="updateClient()" class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <label for="edit-firstName" class="block text-sm font-medium text-slate-300 mb-1">{{ i18n.t('clients.firstnamePlaceholder') }}</label>
            <input id="edit-firstName" formControlName="firstName" class="field-input-compact" />
          </div>

          <div>
            <label for="edit-name" class="block text-sm font-medium text-slate-300 mb-1">{{ i18n.t('clients.namePlaceholder') }}</label>
            <input id="edit-name" formControlName="name" class="field-input-compact" />
          </div>

          <div>
            <label for="edit-phone" class="block text-sm font-medium text-slate-300 mb-1">{{ i18n.t('clients.phonePlaceholder') }}</label>
            <input id="edit-phone" formControlName="phone" class="field-input-compact" />
          </div>

          <div class="col-span-full flex justify-end gap-2 mt-2">
            <button type="submit" class="btn-cta">{{ i18n.t('clients.save') }}</button>
            <button type="button" (click)="closeEditPopup()" class="btn-secondary">{{ i18n.t('clients.cancel') }}</button>
          </div>
        </form>

        <!-- Section voitures -->
        <div class="mt-6 border-t border-white/10 pt-4">
          <div class="flex items-center justify-between mb-4">
            <h4 class="text-md font-semibold text-amber-400">🚗 {{ i18n.t('clients.carsTitle') }}</h4>
            <button type="button" class="btn-cta text-sm" (click)="openCarPopup()">
              + {{ i18n.t('clients.addCar') }}
            </button>
          </div>

          <div *ngIf="clientCars.length === 0" class="text-sm text-slate-400 py-4 text-center">
            {{ i18n.t('clients.noCars') }}
          </div>

          <div *ngIf="clientCars.length > 0" class="space-y-2">
            <div *ngFor="let car of clientCars; trackBy: trackByCarId"
                 class="flex items-center justify-between bg-white/5 rounded-lg px-4 py-3">
              <div>
                <span class="font-medium">{{ car.brand }} {{ car.model }}</span>
                <span *ngIf="car.year" class="text-slate-400 ml-2">({{ car.year }})</span>
                <span *ngIf="car.licensePlate" class="text-violet-400 ml-2">{{ car.licensePlate }}</span>
              </div>
              <div class="flex gap-2">
                <button type="button" class="btn-warning-outline text-sm" (click)="openCarPopup(car)">
                  <!-- pencil icon -->
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                    <path d="M3 21v-3.75L14.81 5.44a2.4 2.4 0 0 1 3.39 0l.36.36a2.4 2.4 0 0 1 0 3.39L6.75 21H3z" stroke="currentColor" stroke-width="1.3"/>
                  </svg>
                </button>
                <button type="button" class="btn-danger-outline text-sm" (click)="removeCar(car.id!)">
                  <!-- trash icon -->
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                    <path d="M3 6h18" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
                    <path d="M8 6v12a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="1.3"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup ajout/modification voiture -->
  <div *ngIf="isCarPopupOpen" class="fixed inset-0 z-[60] flex items-center justify-center">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" (click)="closeCarPopup()" aria-hidden="true"></div>

    <div role="dialog" aria-modal="true" tabindex="-1" class="relative w-full max-w-md mx-4">
      <div class="card-dark p-6 rounded-2xl shadow-lg">
        <div class="flex items-start justify-between gap-4 mb-4">
          <h3 class="text-lg font-semibold">
            {{ editingCarId ? i18n.t('clients.editCar') : i18n.t('clients.addCar') }}
          </h3>
          <button type="button" (click)="closeCarPopup()" class="btn-secondary" [attr.aria-label]="i18n.t('common.close')">
            <!-- close icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <form [formGroup]="carForm" (ngSubmit)="saveCar()" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-1">{{ i18n.t('clients.brandPlaceholder') }} *</label>
            <input formControlName="brand" class="field-input-compact" />
            <div class="text-xs text-red-400 mt-1" *ngIf="carForm.get('brand')?.touched && carForm.get('brand')?.invalid">
              {{ i18n.t('clients.brandRequired') }}
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-1">{{ i18n.t('clients.modelPlaceholder') }} *</label>
            <input formControlName="model" class="field-input-compact" />
            <div class="text-xs text-red-400 mt-1" *ngIf="carForm.get('model')?.touched && carForm.get('model')?.invalid">
              {{ i18n.t('clients.modelRequired') }}
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-1">{{ i18n.t('clients.yearPlaceholder') }}</label>
            <input formControlName="year" type="number" class="field-input-compact" />
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-1">{{ i18n.t('clients.platePlaceholder') }}</label>
            <input formControlName="licensePlate" class="field-input-compact" />
          </div>

          <div class="flex justify-end gap-2 pt-2">
            <button type="submit" class="btn-cta">{{ i18n.t('clients.save') }}</button>
            <button type="button" (click)="closeCarPopup()" class="btn-secondary">{{ i18n.t('clients.cancel') }}</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div *ngIf="totalClient > pageSize" class="flex justify-center items-center gap-4 py-6">
    <button class="btn-cta px-3" [disabled]="page === 1" (click)="prevPage()">{{ i18n.t('clients.paginationPrev') }}</button>
    <span class="text-sm text-slate-300">
      {{ i18n.t('clients.pageOf', { page: page, total: totalPages }) }}
      <span class="mx-2">•</span>
      {{ i18n.t('clients.clientCount', { count: totalClient }) }}
    </span>
    <button class="btn-cta px-3" [disabled]="page === totalPages" (click)="nextPage()">{{ i18n.t('clients.paginationNext') }}</button>
  </div>

  <!-- Empty state -->
  <ng-template #empty>
    <div class="card-dark p-10 text-center rounded-2xl border border-white/10" *ngIf="!loading">
      <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700/50 mb-4">
        <svg class="w-8 h-8 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
          <circle cx="10" cy="7" r="4" />
          <path d="M20 8v6m3-3h-6" />
        </svg>
      </div>
      <h3 class="text-xl font-semibold mb-2">{{ i18n.t('clients.noClientTitle') }}</h3>
      <p class="text-slate-400 text-sm max-w-md mx-auto">
        {{ i18n.t('clients.noClientMessage') }}
      </p>
      <button class="btn-cta mt-6 px-6 py-3 text-base" (click)="focusFirstInput()">
        <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14m-7-7h14"/>
        </svg>
        {{ i18n.t('clients.newClient') }}
      </button>
    </div>
  </ng-template>

  <!-- Modal de confirmation -->
  <div *ngIf="confirmDialog" class="fixed inset-0 z-[70] flex items-center justify-center">
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" (click)="closeConfirmDialog()" aria-hidden="true"></div>

    <div role="alertdialog" aria-modal="true" aria-labelledby="confirm-title" aria-describedby="confirm-desc"
         class="relative w-full max-w-sm mx-4 animate-in fade-in zoom-in-95 duration-200">
      <div class="card-dark p-6 rounded-2xl shadow-xl border border-white/10">
        <!-- Icône d'alerte -->
        <div class="flex justify-center mb-4">
          <div class="w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center">
            <svg class="w-6 h-6 text-red-400" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 9v4m0 4h.01M12 3l9.5 16.5H2.5L12 3z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>

        <!-- Titre -->
        <h3 id="confirm-title" class="text-lg font-semibold text-center mb-2">
          {{ confirmDialog.title }}
        </h3>

        <!-- Message -->
        <p id="confirm-desc" class="text-sm text-slate-300 text-center mb-6">
          {{ confirmDialog.message }}
        </p>

        <!-- Actions -->
        <div class="flex gap-3">
          <button type="button"
                  (click)="closeConfirmDialog()"
                  class="flex-1 btn-secondary py-2.5 justify-center">
            {{ confirmDialog.cancelText || i18n.t('clients.cancel') }}
          </button>
          <button type="button"
                  (click)="confirmAction()"
                  class="flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 6h18M8 6v12a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6M10 11v6M14 11v6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            {{ confirmDialog.confirmText || i18n.t('clients.removeButton') }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Loader -->
  <div *ngIf="loading" class="fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm">
    <div class="flex flex-col items-center gap-4">
      <div class="animate-spin rounded-full h-12 w-12 border-4 border-slate-600 border-t-sky-400"></div>
      <span class="text-slate-300 text-sm">{{ i18n.t('common.loading') }}</span>
    </div>
  </div>
</section>
